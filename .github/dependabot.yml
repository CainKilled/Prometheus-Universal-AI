version: 2

updates:
  # ğŸ” 1. GitHub Actions
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "daily"
      time: "03:30"
    labels: ["dependencies", "ci", "security"]
    commit-message:
      prefix: "ci(actions)"
      include: "scope"
    open-pull-requests-limit: 15
    rebase-strategy: "auto"
    groups:
      actions:
        patterns: ["*"]

  # ğŸ§© 2. Node.js / NPM
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "daily"
      time: "04:00"
    labels: ["dependencies", "node", "security"]
    commit-message:
      prefix: "deps(npm)"
      include: "scope"
    rebase-strategy: "auto"
    allow:
      - dependency-type: "all"
    ignore:
      - dependency-name: "*"
        update-types: ["version-update:semver-patch"]
        dependency-type: "production"
    groups:
      core-libs:
        patterns: ["react*", "next*", "@*"]
      tooling:
        patterns: ["eslint*", "prettier", "babel*", "typescript"]
      minor-and-patch:
        patterns: ["*"]
        update-types: ["minor", "patch"]

  # ğŸ§  3. Python (pip)
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "daily"
      time: "04:30"
    labels: ["dependencies", "python", "security"]
    commit-message:
      prefix: "deps(python)"
      include: "scope"
    rebase-strategy: "auto"
    allow:
      - dependency-type: "all"
    groups:
      ai-frameworks:
        patterns: ["torch*", "transformers", "openai", "langchain*", "livekit*"]
      utils:
        patterns: ["requests", "pandas", "numpy", "scipy"]
      minor-and-patch:
        patterns: ["*"]
        update-types: ["minor", "patch"]

  # ğŸ³ 4. Docker
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "05:00"
    labels: ["dependencies", "docker", "security"]
    commit-message:
      prefix: "deps(docker)"
      include: "scope"
    rebase-strategy: "auto"

  # ğŸ§¬ 5. Git Submodules
  - package-ecosystem: "gitsubmodule"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "tuesday"
      time: "05:30"
    labels: ["dependencies", "submodules"]
    commit-message:
      prefix: "deps(submodules)"
      include: "scope"

  # ğŸ§± 6. Terraform
  - package-ecosystem: "terraform"
    directory: "/infra"
    schedule:
      interval: "weekly"
      day: "wednesday"
      time: "06:00"
    labels: ["dependencies", "terraform", "iac"]
    commit-message:
      prefix: "deps(terraform)"
      include: "scope"

  # ğŸ“¦ 7. Maven
  - package-ecosystem: "maven"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "thursday"
      time: "06:30"
    labels: ["dependencies", "java"]
    commit-message:
      prefix: "deps(maven)"
      include: "scope"

  # âš™ï¸ 8. Gradle
  - package-ecosystem: "gradle"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "thursday"
      time: "07:00"
    labels: ["dependencies", "gradle", "jvm"]
    commit-message:
      prefix: "deps(gradle)"
      include: "scope"

  # ğŸ 9. Rust
  - package-ecosystem: "cargo"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "friday"
      time: "07:30"
    labels: ["dependencies", "rust", "security"]
    commit-message:
      prefix: "deps(cargo)"
      include: "scope"

  # âš¡ 10. Composer / PHP
  - package-ecosystem: "composer"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "friday"
      time: "08:00"
    labels: ["dependencies", "php"]
    commit-message:
      prefix: "deps(php)"
      include: "scope"
